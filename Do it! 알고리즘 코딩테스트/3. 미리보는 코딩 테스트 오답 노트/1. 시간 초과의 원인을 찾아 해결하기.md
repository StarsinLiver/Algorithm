## 시간 초과의 원인을 찾아 해결하기

코딩 테스트에서 자주 마주치는 문제가 바로 시간 초과입니다. 이럴 때는 입력과 출력방식부터 최적화 할 수 있는지 점검해 보는 것이 좋습니다.

### C++ 에서 시간을 단축하는 구문

```c
#include <iostream>
#include <cstdlib>

using namespace std;

int main(int argc, char *argv[]) {

    ios::sync_with_stdio(false);
    cin.tie(NULL);

    return EXIT_SUCCESS;
}
```

이 코드에서 ios::sync_with_stdio(false)는 C의 stdio와 C++의 iostream 간에 동기화를 비활성화하는 역할을 합니다. 이렇게하면 C++의 입출력이 C의 입출력과 독립적인 버퍼로 동작해서 cin와 cout의 속도가 향상합니다. 하지만 이 설정을 사용할 경우 scanf와 printf와 같은 C 스타일의 입출력 함수와 cin, cout을 혼용하면 버퍼링 문제로 예기치 않은 동작이 발생할 수 있으므로, C++ 입출력만 사용하는 것이 안전합니다.

또한 cin.tie(NULL)은 기본적으로 묶여 있는 cin과 cout의 연결을 끊는 명령입니다. C++에서는 일반적으로 cin이 호출되기 전에 cout의 버퍼를 자동으로 비우도록 보장되어 있습니다. 하지만 이 연결을 끊으면 cout의 버퍼를 비우는 작업을 생략하여 입출력 속도가 더욱 빨라집니다. 이러한 설정은 멀티 스레드 환경이나 실시간 화면 출력이 중요한 상황에서는 예상치 못한 결과를 초래할 수 있어 실제 서비스나 시스템 개발에서는 자주 사용되지 않습니다. 그러나 코딩 테스트나 알고리즘 문제 풀이 환경은 대부분 싱글 스레드이며 출력의 정확한 시점이 중요하지 않으므로 입출력 속도를 높이기 위해 적극 사용합니다.

마지막으로, endl 구문을 사용할 때에도 주의해야 합니다. endl은 단순히 줄 바꿈만 하는 것이 아니라 출력 버퍼를 강제로 비우는 flush 작업도 수행하므로 출력이 많을 경우 성능에 영향을 줄 수 있습니다. 그 대신 '\n'을 사용해야 일반적으로 더 효율적입니다.

#### endl을 사용하는 코드

```c
cout << "Hello" << endl
```

#### endl을 사용하지 않는 코드

```c
cout << "Hello" << "\n"
cout.flush()
```

출력 버퍼를 강제로 비우는 flush 작업이 자주 발생하면 성능 저하로 이어질 수 있습니다.
